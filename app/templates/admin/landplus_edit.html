{% extends "admin/admin.html" %}

{% block css %}
<style>
    .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
        vertical-align: middle;
        text-align: left;
    }

    .td_bd {
        font-weight: bold;
        width: 40%;
    }
</style>
{% endblock %}

{% block content %}
<section class="content-header">
    <h1>数据管理系统</h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> 地块管理</a></li>
        <li class="active">修改其他地块</li>
    </ol>
</section>
<section class="content" id="showcontent">
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">修改其他地块</h3>
                    <a href="{{ url_for('admin.landplus_list',key=key,page=1) }}" class="btn btn-success"
                       style="float: right;">返回</a>
                </div>
                <form role="form" method="post" novalidate enctype="multipart/form-data">
                    <div class="box-body">
                        {% for msg in get_flashed_messages(category_filter=["ok"]) %}
                        <div class="alert alert-success alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-check"></i> 操作成功 </h4>
                            {{ msg }}
                        </div>
                        {% endfor %}
                        {% for msg in get_flashed_messages(category_filter=["err"]) %}
                        <div class="alert alert-danger alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-ban"></i> 操作失败 </h4>
                            {{ msg }}
                        </div>
                        {% endfor %}
                        <div class="form-group">
                            <label for="input_name">{{ form.plotnum.label }}</label>
                            {{ form.plotnum(value=landplus.plotnum) }}
                            {% for err in form.plotnum.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.block_name.label }}</label>
                            {{ form.block_name(value=landplus.block_name) }}
                            {% for err in form.block_name.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.block_location.label }}</label>
                            {{ form.block_location(value=landplus.block_location) }}
                            {% for err in form.block_location.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.land_usage.label }}</label>
                            {{ form.land_usage(value=landplus.land_usage) }}
                            {% for err in form.land_usage.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.lng.label }}</label>
                            {{ form.lng(value=land_latlng.lng) }}
                            {% for err in form.lng.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.lat.label }}</label>
                            {{ form.lat(value=land_latlng.lat) }}
                            {% for err in form.lat.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.remark.label }}</label>
                            {{ form.remark(value=land_latlng.remark) }}
                            {% for err in form.remark.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.auction_start_date.label }}</label>
                            {{ form.auction_start_date(value=landplus.auction_start_date) }}
                            {% for err in form.auction_start_date.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.listing_start_date.label }}</label>
                            {{ form.listing_start_date(value=landplus.listing_start_date) }}
                            {% for err in form.listing_start_date.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.listing_deadline.label }}</label>
                            {{ form.listing_deadline(value=landplus.listing_deadline) }}
                            {% for err in form.listing_deadline.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.margin_deadline.label }}</label>
                            {{ form.margin_deadline(value=landplus.margin_deadline) }}
                            {% for err in form.margin_deadline.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.price.label }}</label>
                            {{ form.price(value=landplus.price) }}
                            {% for err in form.price.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.bond.label }}</label>
                            {{ form.bond(value=landplus.bond) }}
                            {% for err in form.bond.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.competitive_unit.label }}</label>
                            {{ form.competitive_unit(value=landplus.competitive_unit) }}
                            {% for err in form.competitive_unit.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.end_date.label }}</label>
                            {{ form.end_date(value=landplus.end_date) }}
                            {% for err in form.end_date.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.terminal_date.label }}</label>
                            {{ form.terminal_date(value=landplus.terminal_date) }}
                            {% for err in form.terminal_date.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.deal_date.label }}</label>
                            {{ form.deal_date(value=landplus.deal_date) }}
                            {% for err in form.deal_date.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.deal_price.label }}</label>
                            {{ form.deal_price(value=landplus.deal_price) }}
                            {% for err in form.deal_price.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.granting_area.label }}</label>
                            {{ form.granting_area(value=landplus.granting_area) }}
                            {% for err in form.granting_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.region.label }}</label>
                            {{ form.region(value=landplus.region) }}
                            {% for err in form.region.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.age_limit.label }}</label>
                            {{ form.age_limit(value=landplus.age_limit) }}
                            {% for err in form.age_limit.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.comple_house_area.label }}</label>
                            {{ form.comple_house_area(value=landplus.comple_house_area) }}
                            {% for err in form.comple_house_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.match_house_area.label }}</label>
                            {{ form.match_house_area(value=landplus.match_house_area) }}
                            {% for err in form.match_house_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.highest_quotation.label }}</label>
                            {{ form.highest_quotation(value=landplus.highest_quotation) }}
                            {% for err in form.highest_quotation.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.highest_quotation_unit.label }}</label>
                            {{ form.highest_quotation_unit(value=landplus.highest_quotation_unit) }}
                            {% for err in form.highest_quotation_unit.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.register_auction_start_date.label }}</label>
                            {{ form.register_auction_start_date(value=landplus.register_auction_start_date) }}
                            {% for err in form.register_auction_start_date.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label class="input_activity_time">{{ form.register_auction_deadline.label }}</label>
                            {{ form.register_auction_deadline(value=landplus.register_auction_deadline) }}
                            {% for err in form.register_auction_deadline.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.bidder_conditions.label }}</label>
                            {{ form.bidder_conditions(value=landplus.bidder_conditions) }}
                            {% for err in form.bidder_conditions.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.contacts.label }}</label>
                            {{ form.contacts(value=landplus.contacts) }}
                            {% for err in form.contacts.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.contacts_phone.label }}</label>
                            {{ form.contacts_phone(value=landplus.contacts_phone) }}
                            {% for err in form.contacts_phone.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.plot_ratio.label }}</label>
                            {{ form.plot_ratio(value=landplus.plot_ratio) }}
                            {% for err in form.plot_ratio.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.total_land_area.label }}</label>
                            {{ form.total_land_area(value=landplus.total_land_area) }}
                            {% for err in form.total_land_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.allocated_area.label }}</label>
                            {{ form.allocated_area(value=landplus.allocated_area) }}
                            {% for err in form.allocated_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.house_area.label }}</label>
                            {{ form.house_area(value=landplus.house_area) }}
                            {% for err in form.house_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.commercial_area.label }}</label>
                            {{ form.commercial_area(value=landplus.commercial_area) }}
                            {% for err in form.commercial_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.office_area.label }}</label>
                            {{ form.office_area(value=landplus.office_area) }}
                            {% for err in form.office_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.other_area.label }}</label>
                            {{ form.other_area(value=landplus.other_area) }}
                            {% for err in form.other_area.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.building_density.label }}</label>
                            {{ form.building_density(value=landplus.building_density) }}
                            {% for err in form.building_density.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.building_height.label }}</label>
                            {{ form.building_height(value=landplus.building_height) }}
                            {% for err in form.building_height.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.greening_rate.label }}</label>
                            {{ form.greening_rate(value=landplus.greening_rate) }}
                            {% for err in form.greening_rate.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.remarks.label }}</label>
                            {{ form.remarks(value=landplus.remarks) }}
                            {% for err in form.remarks.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.overall_floorage.label }}</label>
                            {{ form.overall_floorage(value=landplus.overall_floorage) }}
                            {% for err in form.overall_floorage.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_name">{{ form.comprehensive_floor_price.label }}</label>
                            {{ form.comprehensive_floor_price(value=landplus.comprehensive_floor_price) }}
                            {% for err in form.comprehensive_floor_price.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            <label for="input_logo">{{ form.logo.label }}</label>
                            {{ form.logo }}
                            {% for err in form.logo.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                            <img src={{'http://q3qa2e2ds.bkt.clouddn.com/'+landlogo.logo}} style="margin-top:5px;" class="img-responsive"
                                 alt="">
                        </div>
                        <div class="form-group">
                            <label>{{ form.land_file.label }}</label>
                            {{ form.land_file }}
                            {% for err in form.land_file.errors %}
                            <div class="col-md-12">
                                <font style="color: red">{{ err }}</font>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="box-body table-responsive no-padding">
                        <table class="table table-hover">
                            <tbody>
                            <tr>
                                <td class="td_bd">已上传文件：</td>
                                <td>{{ files }}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="box-footer">
                        {{ form.csrf_token }}
                        {{ form.submit }}
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block js %}
<script>
    $(document).ready(function () {
        $('.input_activity_time').datepicker({
            autoclose: true,
            format: 'yyyy-mm-dd',
            language: 'zh-CN',
        });
    });
</script>
<script>
    $(document).ready(function () {
        $("#g-4").addClass("active");
        $("#g-4-3").addClass("active");
    });
</script>
{% endblock %}